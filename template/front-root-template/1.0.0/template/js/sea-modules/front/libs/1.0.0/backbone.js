define("front/libs/1.0.0/backbone",["front/libs/1.0.0/underscore","front/libs/1.0.0/jquery"],function(a,b,c){window._=a("front/libs/1.0.0/underscore.js"),window.jQuery=window.$=a("front/libs/1.0.0/jquery.js"),window.Backbone=window._b=c.exports=function(a){var i,c=this,d=c.Backbone,e=[],f=e.push,g=e.slice,h=e.splice;i="undefined"!=typeof b?b:c.Backbone={},i.VERSION="0.9.9",i.$=c.$||c.Zepto||c.ender,i.noConflict=function(){return c.Backbone=d,this},i.emulateHTTP=!1,i.emulateJSON=!1;var j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c)for(var e in c)a[b].apply(a,[e,c[e]].concat(d));else{if(!j.test(c))return!0;for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d))}},l=function(a,b,c){var d,e=-1,f=b.length;switch(c.length){case 0:for(;f>++e;)(d=b[e]).callback.call(d.ctx);return;case 1:for(;f>++e;)(d=b[e]).callback.call(d.ctx,c[0]);return;case 2:for(;f>++e;)(d=b[e]).callback.call(d.ctx,c[0],c[1]);return;case 3:for(;f>++e;)(d=b[e]).callback.call(d.ctx,c[0],c[1],c[2]);return;default:for(;f>++e;)(d=b[e]).callback.apply(d.ctx,c)}},m=i.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(b,c,d){if(!k(this,"once",b,[c,d])||!c)return this;var e=this,f=a.once(function(){e.off(b,f),c.apply(this,arguments)});return f._callback=c,this.on(b,f,d),this},off:function(b,c,d){var e,f,g,h,i,j,l,m;if(!this._events||!k(this,"off",b,[c,d]))return this;if(!b&&!c&&!d)return this._events={},this;for(h=b?[b]:a.keys(this._events),i=0,j=h.length;j>i;i++)if(b=h[i],e=this._events[b]){if(g=[],c||d)for(l=0,m=e.length;m>l;l++)f=e[l],(c&&c!==(f.callback._callback||f.callback)||d&&d!==f.context)&&g.push(f);this._events[b]=g}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(this,c,b),d&&l(this,d,arguments),this},listenTo:function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=a.uniqueId("l"));return e[f]=b,b.on(c,d||this,this),this},stopListening:function(a,b,c){var d=this._listeners;if(d){if(a)a.off(b,c,this),b||c||delete d[a._listenerId];else{for(var e in d)d[e].off(null,null,this);this._listeners={}}return this}}};m.bind=m.on,m.unbind=m.off,a.extend(i,m);var n=i.Model=function(b,c){var d,e=b||{};this.cid=a.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],c&&c.collection&&(this.collection=c.collection),c&&c.parse&&(e=this.parse(e)),(d=a.result(this,"defaults"))&&a.defaults(e,d),this.set(e,{silent:!0}),this._currentAttributes=a.clone(this.attributes),this._previousAttributes=a.clone(this.attributes),this.initialize.apply(this,arguments)};a.extend(n.prototype,m,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(b){return a.escape(this.get(b))},has:function(a){return null!=this.get(a)},set:function(b,c,d){var e,f;if(null==b)return this;a.isObject(b)?(f=b,d=c):(f={})[b]=c;var g=d&&d.silent,h=d&&d.unset;if(!this._validate(f,d))return!1;this.idAttribute in f&&(this.id=f[this.idAttribute]);var i=this.attributes;for(e in f)c=f[e],h?delete i[e]:i[e]=c,this._changes.push(e,c);return this._hasComputed=!1,g||this.change(d),this},unset:function(b,c){return this.set(b,void 0,a.extend({},c,{unset:!0}))},clear:function(b){var c={};for(var d in this.attributes)c[d]=void 0;return this.set(c,a.extend({},b,{unset:!0}))},fetch:function(b){b=b?a.clone(b):{},void 0===b.parse&&(b.parse=!0);var c=this,d=b.success;return b.success=function(a){return c.set(c.parse(a),b)?(d&&d(c,a,b),void 0):!1},this.sync("read",this,b)},save:function(b,c,d){var e,f,g;if(null==b||a.isObject(b)?(e=b,d=c):null!=b&&((e={})[b]=c),d=d?a.clone(d):{},d.wait){if(e&&!this._validate(e,d))return!1;f=a.clone(this.attributes)}var h=a.extend({},d,{silent:!0});if(e&&!this.set(e,d.wait?h:d))return!1;if(!e&&!this._validate(null,d))return!1;var i=this,j=d.success;d.success=function(b){g=!0;var h=i.parse(b);return d.wait&&(h=a.extend(e||{},h)),i.set(h,d)?(j&&j(i,b,d),void 0):!1};var k=this.isNew()?"create":d.patch?"patch":"update";"patch"==k&&(d.attrs=e);var l=this.sync(k,this,d);return!g&&d.wait&&(this.clear(h),this.set(f,h)),l},destroy:function(b){b=b?a.clone(b):{};var c=this,d=b.success,e=function(){c.trigger("destroy",c,c.collection,b)};if(b.success=function(a){(b.wait||c.isNew())&&e(),d&&d(c,a,b)},this.isNew())return b.success(),!1;var f=this.sync("delete",this,b);return b.wait||e(),f},url:function(){var b=a.result(this,"urlRoot")||a.result(this.collection,"url")||G();return this.isNew()?b:b+("/"===b.charAt(b.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(b){var c=this._changing;this._changing=!0;var d=this._computeChanges(!0);this._pending=!!d.length;for(var e=d.length-2;e>=0;e-=2)this.trigger("change:"+d[e],this,d[e+1],b);if(c)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,b),this._previousAttributes=a.clone(this.attributes);return this._changing=!1,this},hasChanged:function(b){return this._hasComputed||this._computeChanges(),null==b?!a.isEmpty(this.changed):a.has(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?a.clone(this.changed):!1;var c,d=!1,e=this._previousAttributes;for(var f in b)a.isEqual(e[f],c=b[f])||((d||(d={}))[f]=c);return d},_computeChanges:function(a){this.changed={};for(var b={},c=[],d=this._currentAttributes,e=this._changes,f=e.length-2;f>=0;f-=2){var g=e[f],h=e[f+1];if(!b[g]&&(b[g]=!0,d[g]!==h)){if(this.changed[g]=h,!a)continue;c.push(g,h),d[g]=h}}return a&&(this._changes=[]),this._hasComputed=!0,c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},_validate:function(b,c){if(!this.validate)return!0;b=a.extend({},this.attributes,b);var d=this.validate(b,c);return d?(c&&c.error&&c.error(this,d,c),this.trigger("error",this,d,c),!1):!0}});var o=i.Collection=function(b,c){c||(c={}),c.model&&(this.model=c.model),void 0!==c.comparator&&(this.comparator=c.comparator),this._reset(),this.initialize.apply(this,arguments),b&&this.reset(b,a.extend({silent:!0},c))};a.extend(o.prototype,m,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return i.sync.apply(this,arguments)},add:function(b,c){var d,e,i,j,k,l=c&&c.at,m=null==(c&&c.sort)?!0:c.sort;for(b=a.isArray(b)?b.slice():[b],d=b.length-1;d>=0;d--)(i=this._prepareModel(b[d],c))?(b[d]=i,j=null!=i.id&&this._byId[i.id],j||this._byCid[i.cid]?(c&&c.merge&&j&&(j.set(i.attributes,c),k=m),b.splice(d,1)):(i.on("all",this._onModelEvent,this),this._byCid[i.cid]=i,null!=i.id&&(this._byId[i.id]=i))):(this.trigger("error",this,b[d],c),b.splice(d,1));if(b.length&&(k=m),this.length+=b.length,e=[null!=l?l:this.models.length,0],f.apply(e,b),h.apply(this.models,e),k&&this.comparator&&null==l&&this.sort({silent:!0}),c&&c.silent)return this;for(;i=b.shift();)i.trigger("add",i,this,c);return this},remove:function(b,c){var d,e,f,g;for(c||(c={}),b=a.isArray(b)?b.slice():[b],d=0,e=b.length;e>d;d++)g=this.get(b[d]),g&&(delete this._byId[g.id],delete this._byCid[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,c.silent||(c.index=f,g.trigger("remove",g,this,c)),this._removeReference(g));return this},push:function(b,c){return b=this._prepareModel(b,c),this.add(b,a.extend({at:this.length},c)),b},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(b,c){return b=this._prepareModel(b,c),this.add(b,a.extend({at:0},c)),b},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a]||this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(b){return a.isEmpty(b)?[]:this.filter(function(a){for(var c in b)if(b[c]!==a.get(c))return!1;return!0})},sort:function(b){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),b&&b.silent||this.trigger("sort",this,b),this},pluck:function(b){return a.invoke(this.models,"get",b)},update:function(b,c){var d,e,f,g,h=[],i=[],j={},k=this.model.prototype.idAttribute;if(c=a.extend({add:!0,merge:!0,remove:!0},c),c.parse&&(b=this.parse(b)),a.isArray(b)||(b=b?[b]:[]),c.add&&!c.remove)return this.add(b,c);for(e=0,f=b.length;f>e;e++)d=b[e],g=this.get(d.id||d.cid||d[k]),c.remove&&g&&(j[g.cid]=!0),(c.add&&!g||c.merge&&g)&&h.push(d);if(c.remove)for(e=0,f=this.models.length;f>e;e++)d=this.models[e],j[d.cid]||i.push(d);return i.length&&this.remove(i,c),h.length&&this.add(h,c),this},reset:function(b,c){c||(c={}),c.parse&&(b=this.parse(b));for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d]);return c.previousModels=this.models,this._reset(),b&&this.add(b,a.extend({silent:!0},c)),c.silent||this.trigger("reset",this,c),this},fetch:function(b){b=b?a.clone(b):{},void 0===b.parse&&(b.parse=!0);var c=this,d=b.success;return b.success=function(a){var g=b.update?"update":"reset";c[g](a,b),d&&d(c,a,b)},this.sync("read",this,b)},create:function(b,c){var d=this;if(c=c?a.clone(c):{},b=this._prepareModel(b,c),!b)return!1;c.wait||d.add(b,c);var e=c.success;return c.success=function(a,b,c){c.wait&&d.add(a,c),e&&e(a,b,c)},b.save(null,c),b},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},chain:function(){return a(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:!1},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var p=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];a.each(p,function(b){o.prototype[b]=function(){var c=g.call(arguments);return c.unshift(this.models),a[b].apply(a,c)}});var q=["groupBy","countBy","sortBy"];a.each(q,function(b){o.prototype[b]=function(c,d){var e=a.isFunction(c)?c:function(a){return a.get(c)};return a[b](this.models,e,d)}});var r=i.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,t=/:\w+/g,u=/\*\w+/g,v=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(r.prototype,m,{initialize:function(){},route:function(b,c,d){return a.isRegExp(b)||(b=this._routeToRegExp(b)),d||(d=this[c]),i.history.route(b,a.bind(function(a){var e=this._extractParameters(b,a);d&&d.apply(this,e),this.trigger.apply(this,["route:"+c].concat(e)),i.history.trigger("route",this,c,e)},this)),this},navigate:function(a,b){return i.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes)for(var b,c=a.keys(this.routes);null!=(b=c.pop());)this.route(b,this.routes[b])},_routeToRegExp:function(a){return a=a.replace(v,"\\$&").replace(s,"(?:$1)?").replace(t,"([^/]+)").replace(u,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var w=i.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},x=/^[#\/]|\s+$/g,y=/^\/+|\/+$/g,z=/msie [\w.]+/,A=/\/$/;w.started=!1,a.extend(w.prototype,m,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(A,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(x,"")},start:function(b){if(w.started)throw new Error("Backbone.history has already been started");w.started=!0,this.options=a.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=z.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(y,"/"),e&&this._wantsHashChange&&(this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?i.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?i.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(x,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){i.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),w.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(b){var c=this.fragment=this.getFragment(b),d=a.any(this.handlers,function(a){return a.route.test(c)?(a.callback(c),!0):void 0});return d},navigate:function(a,b){if(!w.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),i.history=new w;var B=i.View=function(b){this.cid=a.uniqueId("view"),this._configure(b||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},C=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName","events"];a.extend(B.prototype,m,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(a,b,c){var d=document.createElement(a);return b&&i.$(d).attr(b),null!=c&&i.$(d).html(c),d},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof i.$?a:i.$(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(b){if(b||(b=a.result(this,"events"))){this.undelegateEvents();for(var c in b){var d=b[c];if(a.isFunction(d)||(d=this[b[c]]),!d)throw new Error('Method "'+b[c]+'" does not exist');var e=c.match(C),f=e[1],g=e[2];d=a.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.bind(f,d):this.$el.delegate(g,f,d)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(b){this.options&&(b=a.extend({},a.result(this,"options"),b)),a.extend(this,a.pick(b,D)),this.options=b},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var b=a.extend({},a.result(this,"attributes"));this.id&&(b.id=a.result(this,"id")),this.className&&(b["class"]=a.result(this,"className")),this.setElement(this.make(a.result(this,"tagName"),b),!1)}}});var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.sync=function(b,c,d){var e=E[b];a.defaults(d||(d={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=a.result(c,"url")||G()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1);var h=d.success;d.success=function(a,b,e){h&&h(a,b,e),c.trigger("sync",c,a,d)};var j=d.error;d.error=function(a){j&&j(c,a,d),c.trigger("error",c,a,d)};var k=i.ajax(a.extend(f,d));return c.trigger("request",c,k,d),k},i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var F=function(b,c){var e,d=this;e=b&&a.has(b,"constructor")?b.constructor:function(){d.apply(this,arguments)},a.extend(e,d,c);var f=function(){this.constructor=e};return f.prototype=d.prototype,e.prototype=new f,b&&a.extend(e.prototype,b),e.__super__=d.prototype,e};n.extend=o.extend=r.extend=B.extend=w.extend=F;var G=function(){throw new Error('A "url" property or function must be specified')};return i}.call(window,_)});